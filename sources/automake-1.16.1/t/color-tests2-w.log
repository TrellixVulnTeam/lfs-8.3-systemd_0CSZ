./t/color-tests2-w.sh: will source ./t/color-tests2.sh
Running from installcheck: no
Test Protocol: none
PATH = /sources/automake-1.16.1/bin:/sources/automake-1.16.1/t/ax:/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin
+++ pwd
/sources/automake-1.16.1/t/color-tests2-w.dir
++ red='\[0;31m'
++ grn='\[0;32m'
++ lgn='\[1;32m'
++ blu='\[1;34m'
++ mgn='\[0;35m'
++ std='\[m'
++ set +e
++ expect -c 'exit 77'
++ test 77 -eq 77
++ cat
++ cat
++ MAKE=make
++ expect -f expect-check
spawn make
stdout is a tty
++ rm -f expect-check Makefile
++ cat
++ cat
++ cat
++ cat
++ cat
++ cat
++ cp fail xfail
++ cp pass xpass
++ chmod +x pass fail skip xpass xfail error
++ aclocal-1.16 -Werror
++ autoconf
++ automake-1.16 --foreign -Werror -Wall --add-missing
++ cat
++ for vpath in false :
++ false
++ srcdir=.
++ ./configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
++ our_make TERM=ansi
++ set MAKE=make TERM=ansi
++ env MAKE=make TERM=ansi expect -f ./expect-make
++ cat stdout
spawn make -e check
make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make[1]: Nothing to be done for 'pass'.
make[1]: Nothing to be done for 'fail'.
make[1]: Nothing to be done for 'skip'.
make[1]: Nothing to be done for 'xpass'.
make[1]: Nothing to be done for 'xfail'.
make[1]: Nothing to be done for 'error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
[0;32mPASS[m: pass
[0;31mFAIL[m: fail
[1;34mSKIP[m: skip
[0;31mXPASS[m: xpass
[1;32mXFAIL[m: xfail
[0;31mFAIL[m: error
[0;31m===========================================================[m
[0;31m3 of 5 tests did not behave as expected (1 unexpected pass)[m
[0;31m(1 test was not run)[m
[0;31m===========================================================[m
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make: *** [Makefile:542: check-am] Error 2
++ test_color
++ cat stdout
++ grep '^\[0;32mPASS\[m: .*pass'
[0;32mPASS[m: pass
++ cat stdout
++ grep '^\[0;31mFAIL\[m: .*fail'
[0;31mFAIL[m: fail
++ cat stdout
++ grep '^\[1;34mSKIP\[m: .*skip'
[1;34mSKIP[m: skip
++ cat stdout
++ grep '^\[1;32mXFAIL\[m: .*xfail'
[1;32mXFAIL[m: xfail
++ cat stdout
++ grep '^\[0;31mXPASS\[m: .*xpass'
[0;31mXPASS[m: xpass
++ test xyes = xyes
++ cat stdout
++ grep '^\[0;31mFAIL\[m: .*error'
[0;31mFAIL[m: error
++ :
++ our_make TERM=dumb
++ set MAKE=make TERM=dumb
++ env MAKE=make TERM=dumb expect -f ./expect-make
++ cat stdout
spawn make -e check
make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make[1]: Nothing to be done for 'pass'.
make[1]: Nothing to be done for 'fail'.
make[1]: Nothing to be done for 'skip'.
make[1]: Nothing to be done for 'xpass'.
make[1]: Nothing to be done for 'xfail'.
make[1]: Nothing to be done for 'error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
PASS: pass
FAIL: fail
SKIP: skip
XPASS: xpass
XFAIL: xfail
FAIL: error
===========================================================
3 of 5 tests did not behave as expected (1 unexpected pass)
(1 test was not run)
===========================================================
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make: *** [Makefile:542: check-am] Error 2
++ test_no_color
++ /bin/grep -F '= Xalways; then' stdout
++ cat stdout
++ grep $'\E'
++ : For shells with broken 'set -e'
++ our_make AM_COLOR_TESTS=no
++ set MAKE=make AM_COLOR_TESTS=no
++ env MAKE=make AM_COLOR_TESTS=no expect -f ./expect-make
++ cat stdout
spawn make -e check
make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make[1]: Nothing to be done for 'pass'.
make[1]: Nothing to be done for 'fail'.
make[1]: Nothing to be done for 'skip'.
make[1]: Nothing to be done for 'xpass'.
make[1]: Nothing to be done for 'xfail'.
make[1]: Nothing to be done for 'error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
PASS: pass
FAIL: fail
SKIP: skip
XPASS: xpass
XFAIL: xfail
FAIL: error
===========================================================
3 of 5 tests did not behave as expected (1 unexpected pass)
(1 test was not run)
===========================================================
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make: *** [Makefile:542: check-am] Error 2
++ test_no_color
++ /bin/grep -F '= Xalways; then' stdout
++ cat stdout
++ grep $'\E'
++ : For shells with broken 'set -e'
++ ./configure testsuite_colorized=false
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
++ our_make TERM=ansi
++ set MAKE=make TERM=ansi
++ env MAKE=make TERM=ansi expect -f ./expect-make
++ cat stdout
spawn make -e check
make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make[1]: Nothing to be done for 'pass'.
make[1]: Nothing to be done for 'fail'.
make[1]: Nothing to be done for 'skip'.
make[1]: Nothing to be done for 'xpass'.
make[1]: Nothing to be done for 'xfail'.
make[1]: Nothing to be done for 'error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
PASS: pass
FAIL: fail
SKIP: skip
XPASS: xpass
XFAIL: xfail
FAIL: error
===========================================================
3 of 5 tests did not behave as expected (1 unexpected pass)
(1 test was not run)
===========================================================
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make: *** [Makefile:542: check-am] Error 2
++ test_no_color
++ /bin/grep -F '= Xalways; then' stdout
++ cat stdout
++ grep $'\E'
++ : For shells with broken 'set -e'
++ our_make TERM=ansi 'MAKE=env AM_COLOR_TESTS=always make'
++ set MAKE=make TERM=ansi 'MAKE=env AM_COLOR_TESTS=always make'
++ env MAKE=make TERM=ansi 'MAKE=env AM_COLOR_TESTS=always make' expect -f ./expect-make
++ cat stdout
spawn env AM_COLOR_TESTS=always make -e check
env AM_COLOR_TESTS=always make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make[1]: Nothing to be done for 'pass'.
make[1]: Nothing to be done for 'fail'.
make[1]: Nothing to be done for 'skip'.
make[1]: Nothing to be done for 'xpass'.
make[1]: Nothing to be done for 'xfail'.
make[1]: Nothing to be done for 'error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
env AM_COLOR_TESTS=always make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
[0;32mPASS[m: pass
[0;31mFAIL[m: fail
[1;34mSKIP[m: skip
[0;31mXPASS[m: xpass
[1;32mXFAIL[m: xfail
[0;31mFAIL[m: error
[0;31m===========================================================[m
[0;31m3 of 5 tests did not behave as expected (1 unexpected pass)[m
[0;31m(1 test was not run)[m
[0;31m===========================================================[m
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir'
make: *** [Makefile:542: check-am] Error 2
++ test_color
++ cat stdout
++ grep '^\[0;32mPASS\[m: .*pass'
[0;32mPASS[m: pass
++ cat stdout
++ grep '^\[0;31mFAIL\[m: .*fail'
[0;31mFAIL[m: fail
++ cat stdout
++ grep '^\[1;34mSKIP\[m: .*skip'
[1;34mSKIP[m: skip
++ cat stdout
++ grep '^\[1;32mXFAIL\[m: .*xfail'
[1;32mXFAIL[m: xfail
++ cat stdout
++ grep '^\[0;31mXPASS\[m: .*xpass'
[0;31mXPASS[m: xpass
++ test xyes = xyes
++ cat stdout
++ grep '^\[0;31mFAIL\[m: .*error'
[0;31mFAIL[m: error
++ :
++ make distclean
test -z "" || rm -f 
test . = "." || test -z "" || rm -f 
rm -f config.status config.cache config.log configure.lineno config.status.lineno
rm -f Makefile
++ cd .
++ for vpath in false :
++ :
++ mkdir build
++ cd build
++ srcdir=..
++ ../configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
++ our_make TERM=ansi
++ set MAKE=make TERM=ansi
++ env MAKE=make TERM=ansi expect -f ../expect-make
++ cat stdout
spawn make -e check
make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make[1]: Nothing to be done for '../pass'.
make[1]: Nothing to be done for '../fail'.
make[1]: Nothing to be done for '../skip'.
make[1]: Nothing to be done for '../xpass'.
make[1]: Nothing to be done for '../xfail'.
make[1]: Nothing to be done for '../error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
[0;32mPASS[m: pass
[0;31mFAIL[m: fail
[1;34mSKIP[m: skip
[0;31mXPASS[m: xpass
[1;32mXFAIL[m: xfail
[0;31mFAIL[m: error
[0;31m===========================================================[m
[0;31m3 of 5 tests did not behave as expected (1 unexpected pass)[m
[0;31m(1 test was not run)[m
[0;31m===========================================================[m
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make: *** [Makefile:542: check-am] Error 2
++ test_color
++ cat stdout
++ grep '^\[0;32mPASS\[m: .*pass'
[0;32mPASS[m: pass
++ cat stdout
++ grep '^\[0;31mFAIL\[m: .*fail'
[0;31mFAIL[m: fail
++ cat stdout
++ grep '^\[1;34mSKIP\[m: .*skip'
[1;34mSKIP[m: skip
++ cat stdout
++ grep '^\[1;32mXFAIL\[m: .*xfail'
[1;32mXFAIL[m: xfail
++ cat stdout
++ grep '^\[0;31mXPASS\[m: .*xpass'
[0;31mXPASS[m: xpass
++ test xyes = xyes
++ cat stdout
++ grep '^\[0;31mFAIL\[m: .*error'
[0;31mFAIL[m: error
++ :
++ our_make TERM=dumb
++ set MAKE=make TERM=dumb
++ env MAKE=make TERM=dumb expect -f ../expect-make
++ cat stdout
spawn make -e check
make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make[1]: Nothing to be done for '../pass'.
make[1]: Nothing to be done for '../fail'.
make[1]: Nothing to be done for '../skip'.
make[1]: Nothing to be done for '../xpass'.
make[1]: Nothing to be done for '../xfail'.
make[1]: Nothing to be done for '../error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
PASS: pass
FAIL: fail
SKIP: skip
XPASS: xpass
XFAIL: xfail
FAIL: error
===========================================================
3 of 5 tests did not behave as expected (1 unexpected pass)
(1 test was not run)
===========================================================
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make: *** [Makefile:542: check-am] Error 2
++ test_no_color
++ /bin/grep -F '= Xalways; then' stdout
++ cat stdout
++ grep $'\E'
++ : For shells with broken 'set -e'
++ our_make AM_COLOR_TESTS=no
++ set MAKE=make AM_COLOR_TESTS=no
++ env MAKE=make AM_COLOR_TESTS=no expect -f ../expect-make
++ cat stdout
spawn make -e check
make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make[1]: Nothing to be done for '../pass'.
make[1]: Nothing to be done for '../fail'.
make[1]: Nothing to be done for '../skip'.
make[1]: Nothing to be done for '../xpass'.
make[1]: Nothing to be done for '../xfail'.
make[1]: Nothing to be done for '../error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
PASS: pass
FAIL: fail
SKIP: skip
XPASS: xpass
XFAIL: xfail
FAIL: error
===========================================================
3 of 5 tests did not behave as expected (1 unexpected pass)
(1 test was not run)
===========================================================
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make: *** [Makefile:542: check-am] Error 2
++ test_no_color
++ /bin/grep -F '= Xalways; then' stdout
++ cat stdout
++ grep $'\E'
++ : For shells with broken 'set -e'
++ ../configure testsuite_colorized=false
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
++ our_make TERM=ansi
++ set MAKE=make TERM=ansi
++ env MAKE=make TERM=ansi expect -f ../expect-make
++ cat stdout
spawn make -e check
make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make[1]: Nothing to be done for '../pass'.
make[1]: Nothing to be done for '../fail'.
make[1]: Nothing to be done for '../skip'.
make[1]: Nothing to be done for '../xpass'.
make[1]: Nothing to be done for '../xfail'.
make[1]: Nothing to be done for '../error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
PASS: pass
FAIL: fail
SKIP: skip
XPASS: xpass
XFAIL: xfail
FAIL: error
===========================================================
3 of 5 tests did not behave as expected (1 unexpected pass)
(1 test was not run)
===========================================================
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make: *** [Makefile:542: check-am] Error 2
++ test_no_color
++ /bin/grep -F '= Xalways; then' stdout
++ cat stdout
++ grep $'\E'
++ : For shells with broken 'set -e'
++ our_make TERM=ansi 'MAKE=env AM_COLOR_TESTS=always make'
++ set MAKE=make TERM=ansi 'MAKE=env AM_COLOR_TESTS=always make'
++ env MAKE=make TERM=ansi 'MAKE=env AM_COLOR_TESTS=always make' expect -f ../expect-make
++ cat stdout
spawn env AM_COLOR_TESTS=always make -e check
env AM_COLOR_TESTS=always make  pass fail skip xpass xfail error
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make[1]: Nothing to be done for '../pass'.
make[1]: Nothing to be done for '../fail'.
make[1]: Nothing to be done for '../skip'.
make[1]: Nothing to be done for '../xpass'.
make[1]: Nothing to be done for '../xfail'.
make[1]: Nothing to be done for '../error'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
env AM_COLOR_TESTS=always make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
[0;32mPASS[m: pass
[0;31mFAIL[m: fail
[1;34mSKIP[m: skip
[0;31mXPASS[m: xpass
[1;32mXFAIL[m: xfail
[0;31mFAIL[m: error
[0;31m===========================================================[m
[0;31m3 of 5 tests did not behave as expected (1 unexpected pass)[m
[0;31m(1 test was not run)[m
[0;31m===========================================================[m
make[1]: *** [Makefile:282: check-TESTS] Error 1
make[1]: Leaving directory '/sources/automake-1.16.1/t/color-tests2-w.dir/build'
make: *** [Makefile:542: check-am] Error 2
++ test_color
++ cat stdout
++ grep '^\[0;32mPASS\[m: .*pass'
[0;32mPASS[m: pass
++ cat stdout
++ grep '^\[0;31mFAIL\[m: .*fail'
[0;31mFAIL[m: fail
++ cat stdout
++ grep '^\[1;34mSKIP\[m: .*skip'
[1;34mSKIP[m: skip
++ grep '^\[1;32mXFAIL\[m: .*xfail'
++ cat stdout
[1;32mXFAIL[m: xfail
++ cat stdout
++ grep '^\[0;31mXPASS\[m: .*xpass'
[0;31mXPASS[m: xpass
++ test xyes = xyes
++ cat stdout
++ grep '^\[0;31mFAIL\[m: .*error'
[0;31mFAIL[m: error
++ :
++ make distclean
test -z "" || rm -f 
test . = ".." || test -z "" || rm -f 
rm -f config.status config.cache config.log configure.lineno config.status.lineno
rm -f Makefile
++ cd ..
++ :
+ _am_exit 0
+ set +e
+ test 77 = 0
+ exit 0
+ exit 0
+ am_exit_trap 0
+ exit_status=0
+ set +e
+ cd /sources/automake-1.16.1
+ test none = tap
+ case $am_explicit_skips in
+ test 0 -eq 0
+ am_keeping_testdirs
+ case $keep_testdirs in
+ return 1
+ rm_rf_ t/color-tests2-w.dir
+ test 1 -gt 0
+ /usr/bin/perl /sources/automake-1.16.1/t/ax/deltree.pl t/color-tests2-w.dir
+ set +x
PASS t/color-tests2-w.sh (exit status: 0)
