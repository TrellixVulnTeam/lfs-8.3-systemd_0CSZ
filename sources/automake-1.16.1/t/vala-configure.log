Running from installcheck: no
Test Protocol: none
PATH = /sources/automake-1.16.1/bin:/sources/automake-1.16.1/t/ax:/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin
++ pwd
/sources/automake-1.16.1/t/vala-configure.dir
+ cat
+ cat
+ mkdir bin
+ cat
+ chmod +x bin/valac
+ cat
+ chmod +x bin/valac.old
++ pwd
+ PATH=/sources/automake-1.16.1/t/vala-configure.dir/bin:/sources/automake-1.16.1/bin:/sources/automake-1.16.1/t/ax:/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin
+ export PATH
+ unset VALAC vala_version
+ aclocal-1.16 -Werror
+ automake-1.16 --foreign -Werror -Wall -a
+ autoconf
+ st=0
+ ./configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of gcc... gcc3
checking for valac... /sources/automake-1.16.1/t/vala-configure.dir/bin/valac
checking whether /sources/automake-1.16.1/t/vala-configure.dir/bin/valac is at least version 1.2.3... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: executing depfiles commands
+ cat stderr
+ grep 'WARNING.*vala' stderr
+ test 0 -eq 0
+ make has-valac
case '/sources/automake-1.16.1/t/vala-configure.dir/bin/valac' in */bin/valac) exit 0;; *) exit 1;; esac
+ st=0
+ vala_version=99.9
+ ./configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of gcc... gcc3
checking for valac... /sources/automake-1.16.1/t/vala-configure.dir/bin/valac
checking whether /sources/automake-1.16.1/t/vala-configure.dir/bin/valac is at least version 1.2.3... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: executing depfiles commands
+ cat stderr
+ grep 'WARNING.*vala' stderr
+ test 0 -eq 0
+ make has-valac
case '/sources/automake-1.16.1/t/vala-configure.dir/bin/valac' in */bin/valac) exit 0;; *) exit 1;; esac
+ st=0
+ vala_version=0.1.2
+ ./configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of gcc... gcc3
checking for valac... /sources/automake-1.16.1/t/vala-configure.dir/bin/valac
checking whether /sources/automake-1.16.1/t/vala-configure.dir/bin/valac is at least version 1.2.3... no
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: executing depfiles commands
+ cat stderr
configure: WARNING: no proper vala compiler found
configure: WARNING: you will not be able to compile vala source files
+ test 0 -eq 0
+ grep '^configure: WARNING: no proper vala compiler found' stderr
configure: WARNING: no proper vala compiler found
+ make no-valac
test x'valac' = x'valac'
+ st=0
++ pwd
+ ./configure VALAC=/sources/automake-1.16.1/t/vala-configure.dir/bin/valac.old
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of gcc... gcc3
checking for valac... /sources/automake-1.16.1/t/vala-configure.dir/bin/valac.old
checking whether /sources/automake-1.16.1/t/vala-configure.dir/bin/valac.old is at least version 1.2.3... no
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: executing depfiles commands
+ cat stderr
configure: WARNING: no proper vala compiler found
configure: WARNING: you will not be able to compile vala source files
+ test 0 -eq 0
+ grep '^configure: WARNING: no proper vala compiler found' stderr
configure: WARNING: no proper vala compiler found
+ make no-valac
test x'valac' = x'valac'
+ sed 's/^\(AM_PROG_VALAC\).*/\1([1], [: > ok], [: > ko])/'
+ mv -f t configure.ac
+ rm -rf autom4te.cache
+ aclocal-1.16 -Werror
+ autoconf
+ st=0
+ ./configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of gcc... gcc3
checking for valac... /sources/automake-1.16.1/t/vala-configure.dir/bin/valac
checking whether /sources/automake-1.16.1/t/vala-configure.dir/bin/valac is at least version 1... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: executing depfiles commands
+ cat stderr
+ grep 'WARNING.*vala' stderr
+ test -f ok
+ test '!' -e ko
+ make has-valac
 cd . && /bin/sh /sources/automake-1.16.1/t/vala-configure.dir/missing automake-1.16 --foreign
 cd . && /bin/sh ./config.status Makefile 
config.status: creating Makefile
case '/sources/automake-1.16.1/t/vala-configure.dir/bin/valac' in */bin/valac) exit 0;; *) exit 1;; esac
+ rm -f ok ko
+ st=0
+ vala_version=0.1.2
+ ./configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of gcc... gcc3
checking for valac... /sources/automake-1.16.1/t/vala-configure.dir/bin/valac
checking whether /sources/automake-1.16.1/t/vala-configure.dir/bin/valac is at least version 1... no
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: executing depfiles commands
+ cat stderr
+ grep 'WARNING.*vala' stderr
+ test 0 -eq 0
+ test '!' -e ok
+ test -f ko
+ make no-valac
test x'valac' = x'valac'
+ rm -f ok ko
+ st=0
++ pwd
+ ./configure VALAC=/sources/automake-1.16.1/t/vala-configure.dir/bin/valac.old
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of gcc... gcc3
checking for valac... /sources/automake-1.16.1/t/vala-configure.dir/bin/valac.old
checking whether /sources/automake-1.16.1/t/vala-configure.dir/bin/valac.old is at least version 1... no
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: executing depfiles commands
+ cat stderr
+ grep 'WARNING.*vala' stderr
+ test 0 -eq 0
+ test '!' -e ok
+ test -f ko
+ make no-valac
test x'valac' = x'valac'
+ rm -f ok ko
+ :
+ am_exit_trap 0
+ exit_status=0
+ set +e
+ cd /sources/automake-1.16.1
+ test none = tap
+ case $am_explicit_skips in
+ test 0 -eq 0
+ am_keeping_testdirs
+ case $keep_testdirs in
+ return 1
+ rm_rf_ t/vala-configure.dir
+ test 1 -gt 0
+ /usr/bin/perl /sources/automake-1.16.1/t/ax/deltree.pl t/vala-configure.dir
+ set +x
PASS t/vala-configure.sh (exit status: 0)
