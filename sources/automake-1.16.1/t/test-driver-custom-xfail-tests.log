Running from installcheck: no
Test Protocol: none
PATH = /sources/automake-1.16.1/bin:/sources/automake-1.16.1/t/ax:/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin
++ pwd
/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir
+ cat
+ cat
+ mkdir sub1 sub2
+ cat
+ cat
+ cat
+ cat
+ chmod a+x pass.test xfail.test
+ cp pass.test sub1/pass.test
+ cp pass.test sub2/pass.test
+ for i in 1 2 3 4 5 6
+ cp xfail.test sub1/x1.test
+ cp xfail.test sub2/x1.test
+ for i in 1 2 3 4 5 6
+ cp xfail.test sub1/x2.test
+ cp xfail.test sub2/x2.test
+ for i in 1 2 3 4 5 6
+ cp xfail.test sub1/x3.test
+ cp xfail.test sub2/x3.test
+ for i in 1 2 3 4 5 6
+ cp xfail.test sub1/x4.test
+ cp xfail.test sub2/x4.test
+ for i in 1 2 3 4 5 6
+ cp xfail.test sub1/x5.test
+ cp xfail.test sub2/x5.test
+ for i in 1 2 3 4 5 6
+ cp xfail.test sub1/x6.test
+ cp xfail.test sub2/x6.test
+ cat
+ chmod a+x td
+ aclocal-1.16 -Werror
+ autoconf
+ automake-1.16 --foreign -Werror -Wall
+ ./configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: creating sub1/Makefile
config.status: creating sub2/Makefile
+ run_make -O check
+ am__make_redirect_stdout=no
+ am__make_redirect_stderr=no
+ am__make_redirect_stdall=no
+ am__make_flags=
+ am__make_rc_exp=0
+ am_make_rc=0
+ test 2 -gt 0
+ case $1 in
+ am__make_redirect_stdout=yes
+ shift
+ test 1 -gt 0
+ case $1 in
+ break
+ using_gmake
+ case $am__using_gmake in
+ make --version -v
+ grep GNU
GNU Make 4.2.1
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
+ am__using_gmake=yes
+ return 0
+ :
+ test x '!=' x
+ : exec make check
+ set +x
+ test 0 -eq 253
+ test no = yes
+ test yes = yes
+ cat stdout
Making check in .
make[1]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir'
make  check-TESTS
make[2]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir'
make[3]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir'
PASS: pass.test
XFAIL: xfail.test
============================================================================
Testsuite summary for test-driver-custom-xfail-tests 1.0
============================================================================
# TOTAL: 2
# PASS:  1
# SKIP:  0
# XFAIL: 1
# FAIL:  0
# XPASS: 0
# ERROR: 0
============================================================================
make[3]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir'
make[2]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir'
make[1]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir'
Making check in sub1
make[1]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
make  check-TESTS
make[2]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
make[3]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
PASS: pass.test
XFAIL: x1.test
XFAIL: x2.test
XFAIL: x3.test
XFAIL: x4.test
XFAIL: x5.test
XFAIL: x6.test
============================================================================
Testsuite summary for test-driver-custom-xfail-tests 1.0
============================================================================
# TOTAL: 7
# PASS:  1
# SKIP:  0
# XFAIL: 6
# FAIL:  0
# XPASS: 0
# ERROR: 0
============================================================================
make[3]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
make[2]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
make[1]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
Making check in sub2
make[1]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
make  check-TESTS
make[2]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
make[3]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
PASS: pass.test
XFAIL: x1.test
XFAIL: x2.test
XFAIL: x3.test
XFAIL: x4.test
XFAIL: x5.test
XFAIL: x6.test
============================================================================
Testsuite summary for test-driver-custom-xfail-tests 1.0
============================================================================
# TOTAL: 7
# PASS:  1
# SKIP:  0
# XFAIL: 6
# FAIL:  0
# XPASS: 0
# ERROR: 0
============================================================================
make[3]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
make[2]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
make[1]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
+ test no = yes
+ case $am__make_rc_exp in
+ test 0 -ge 0
+ test 0 -le 255
+ test 0 -eq 0
++ grep -c '^PASS:' stdout
+ test 3 -eq 3
++ grep -c '^XFAIL:' stdout
+ test 13 -eq 13
+ for dir in sub1 sub2
+ cd sub1
+ cp pass.test x1.test
+ cp x2.test pass.test
+ run_make -O -e FAIL check
+ am__make_redirect_stdout=no
+ am__make_redirect_stderr=no
+ am__make_redirect_stdall=no
+ am__make_flags=
+ am__make_rc_exp=0
+ am_make_rc=0
+ test 4 -gt 0
+ case $1 in
+ am__make_redirect_stdout=yes
+ shift
+ test 3 -gt 0
+ case $1 in
+ am__make_rc_exp=FAIL
+ shift
+ shift
+ test 1 -gt 0
+ case $1 in
+ break
+ using_gmake
+ case $am__using_gmake in
+ return 0
+ :
+ test x '!=' x
+ : exec make check
+ set +x
make[2]: *** [Makefile:456: test-suite.log] Error 1
make[1]: *** [Makefile:564: check-TESTS] Error 2
make: *** [Makefile:623: check-am] Error 2
+ am_make_rc=2
+ test 2 -eq 253
+ test no = yes
+ test yes = yes
+ cat stdout
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
make[2]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
FAIL: pass.test
XPASS: x1.test
XFAIL: x2.test
XFAIL: x3.test
XFAIL: x4.test
XFAIL: x5.test
XFAIL: x6.test
============================================================================
Testsuite summary for test-driver-custom-xfail-tests 1.0
============================================================================
# TOTAL: 7
# PASS:  0
# SKIP:  0
# XFAIL: 5
# FAIL:  1
# XPASS: 1
# ERROR: 0
============================================================================
See sub1/test-suite.log
============================================================================
make[2]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
make[1]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
+ test no = yes
+ case $am__make_rc_exp in
+ test 2 -gt 0
++ cat pass.trs
+ test ':test-result: FAIL' = ':test-result: FAIL'
++ cat x1.trs
+ test ':test-result: XPASS' = ':test-result: XPASS'
++ cat x2.trs
+ test ':test-result: XFAIL' = ':test-result: XFAIL'
+ grep '^FAIL: pass\.test$' stdout
FAIL: pass.test
+ grep '^XPASS: x1\.test$' stdout
XPASS: x1.test
+ grep '^XFAIL: x2\.test$' stdout
XFAIL: x2.test
+ count_test_results total=7 pass=0 xpass=1 fail=1 xfail=5 skip=0 error=0
+ total=ERR
+ pass=ERR
+ fail=ERR
+ xpass=ERR
+ xfail=ERR
+ skip=ERR
+ error=ERR
+ eval total=7 pass=0 xpass=1 fail=1 xfail=5 skip=0 error=0
++ total=7
++ pass=0
++ xpass=1
++ fail=1
++ xfail=5
++ skip=0
++ error=0
+ /bin/grep -E -i '(total|x?pass|x?fail|skip|error)' stdout
make[1]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
make[2]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
FAIL: pass.test
XPASS: x1.test
XFAIL: x2.test
XFAIL: x3.test
XFAIL: x4.test
XFAIL: x5.test
XFAIL: x6.test
Testsuite summary for test-driver-custom-xfail-tests 1.0
# TOTAL: 7
# PASS:  0
# SKIP:  0
# XFAIL: 5
# FAIL:  1
# XPASS: 1
# ERROR: 0
make[2]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
make[1]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub1'
+ rc=0
+ set +e
++ grep -c '^PASS:' stdout
+ test 0 -eq 0
++ grep -c '^XFAIL:' stdout
+ test 5 -eq 5
++ grep -c '^SKIP:' stdout
+ test 0 -eq 0
++ grep -c '^FAIL:' stdout
+ test 1 -eq 1
++ grep -c '^XPASS:' stdout
+ test 1 -eq 1
++ grep -c '^ERROR:' stdout
+ test 0 -eq 0
+ grep '^# TOTAL:  *7$' stdout
# TOTAL: 7
+ grep '^# PASS:  *0$' stdout
# PASS:  0
+ grep '^# XFAIL:  *5$' stdout
# XFAIL: 5
+ grep '^# SKIP:  *0$' stdout
# SKIP:  0
+ grep '^# FAIL:  *1$' stdout
# FAIL:  1
+ grep '^# XPASS:  *1$' stdout
# XPASS: 1
+ grep '^# ERROR:  *0$' stdout
# ERROR: 0
+ test 0 -eq 0
+ cd ..
+ for dir in sub1 sub2
+ cd sub2
+ cp pass.test x1.test
+ cp x2.test pass.test
+ run_make -O -e FAIL check
+ am__make_redirect_stdout=no
+ am__make_redirect_stderr=no
+ am__make_redirect_stdall=no
+ am__make_flags=
+ am__make_rc_exp=0
+ am_make_rc=0
+ test 4 -gt 0
+ case $1 in
+ am__make_redirect_stdout=yes
+ shift
+ test 3 -gt 0
+ case $1 in
+ am__make_rc_exp=FAIL
+ shift
+ shift
+ test 1 -gt 0
+ case $1 in
+ break
+ using_gmake
+ case $am__using_gmake in
+ return 0
+ :
+ test x '!=' x
+ : exec make check
+ set +x
make[2]: *** [Makefile:463: test-suite.log] Error 1
make[1]: *** [Makefile:571: check-TESTS] Error 2
make: *** [Makefile:630: check-am] Error 2
+ am_make_rc=2
+ test 2 -eq 253
+ test no = yes
+ test yes = yes
+ cat stdout
make  check-TESTS
make[1]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
make[2]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
FAIL: pass.test
XPASS: x1.test
XFAIL: x2.test
XFAIL: x3.test
XFAIL: x4.test
XFAIL: x5.test
XFAIL: x6.test
============================================================================
Testsuite summary for test-driver-custom-xfail-tests 1.0
============================================================================
# TOTAL: 7
# PASS:  0
# SKIP:  0
# XFAIL: 5
# FAIL:  1
# XPASS: 1
# ERROR: 0
============================================================================
See sub2/test-suite.log
============================================================================
make[2]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
make[1]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
+ test no = yes
+ case $am__make_rc_exp in
+ test 2 -gt 0
++ cat pass.trs
+ test ':test-result: FAIL' = ':test-result: FAIL'
++ cat x1.trs
+ test ':test-result: XPASS' = ':test-result: XPASS'
++ cat x2.trs
+ test ':test-result: XFAIL' = ':test-result: XFAIL'
+ grep '^FAIL: pass\.test$' stdout
FAIL: pass.test
+ grep '^XPASS: x1\.test$' stdout
XPASS: x1.test
+ grep '^XFAIL: x2\.test$' stdout
XFAIL: x2.test
+ count_test_results total=7 pass=0 xpass=1 fail=1 xfail=5 skip=0 error=0
+ total=ERR
+ pass=ERR
+ fail=ERR
+ xpass=ERR
+ xfail=ERR
+ skip=ERR
+ error=ERR
+ eval total=7 pass=0 xpass=1 fail=1 xfail=5 skip=0 error=0
++ total=7
++ pass=0
++ xpass=1
++ fail=1
++ xfail=5
++ skip=0
++ error=0
+ /bin/grep -E -i '(total|x?pass|x?fail|skip|error)' stdout
make[1]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
make[2]: Entering directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
FAIL: pass.test
XPASS: x1.test
XFAIL: x2.test
XFAIL: x3.test
XFAIL: x4.test
XFAIL: x5.test
XFAIL: x6.test
Testsuite summary for test-driver-custom-xfail-tests 1.0
# TOTAL: 7
# PASS:  0
# SKIP:  0
# XFAIL: 5
# FAIL:  1
# XPASS: 1
# ERROR: 0
make[2]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
make[1]: Leaving directory '/sources/automake-1.16.1/t/test-driver-custom-xfail-tests.dir/sub2'
+ rc=0
+ set +e
++ grep -c '^PASS:' stdout
+ test 0 -eq 0
++ grep -c '^XFAIL:' stdout
+ test 5 -eq 5
++ grep -c '^SKIP:' stdout
+ test 0 -eq 0
++ grep -c '^FAIL:' stdout
+ test 1 -eq 1
++ grep -c '^XPASS:' stdout
+ test 1 -eq 1
++ grep -c '^ERROR:' stdout
+ test 0 -eq 0
+ grep '^# TOTAL:  *7$' stdout
# TOTAL: 7
+ grep '^# PASS:  *0$' stdout
# PASS:  0
+ grep '^# XFAIL:  *5$' stdout
# XFAIL: 5
+ grep '^# SKIP:  *0$' stdout
# SKIP:  0
+ grep '^# FAIL:  *1$' stdout
# FAIL:  1
+ grep '^# XPASS:  *1$' stdout
# XPASS: 1
+ grep '^# ERROR:  *0$' stdout
# ERROR: 0
+ test 0 -eq 0
+ cd ..
+ :
+ am_exit_trap 0
+ exit_status=0
+ set +e
+ cd /sources/automake-1.16.1
+ test none = tap
+ case $am_explicit_skips in
+ test 0 -eq 0
+ am_keeping_testdirs
+ case $keep_testdirs in
+ return 1
+ rm_rf_ t/test-driver-custom-xfail-tests.dir
+ test 1 -gt 0
+ /usr/bin/perl /sources/automake-1.16.1/t/ax/deltree.pl t/test-driver-custom-xfail-tests.dir
+ set +x
PASS t/test-driver-custom-xfail-tests.sh (exit status: 0)
