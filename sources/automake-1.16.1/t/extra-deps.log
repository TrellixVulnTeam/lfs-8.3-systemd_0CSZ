Running from installcheck: no
Test Protocol: none
PATH = /sources/automake-1.16.1/bin:/sources/automake-1.16.1/t/ax:/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin
++ pwd
/sources/automake-1.16.1/t/extra-deps.dir
+ cat
+ cat
+ cat
+ cat
+ cat
+ aclocal-1.16 -Werror
+ automake-1.16 --foreign -Werror -Wall --add-missing
configure.ac:5: installing './ar-lib'
+ autoconf
+ ./configure cond=yes
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking whether cc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of cc... gcc3
checking for ar... ar
checking the archiver (ar) interface... ar
checking for ranlib... ranlib
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: executing depfiles commands
+ :
+ :
+ :
+ run_make -O
+ am__make_redirect_stdout=no
+ am__make_redirect_stderr=no
+ am__make_redirect_stdall=no
+ am__make_flags=
+ am__make_rc_exp=0
+ am_make_rc=0
+ test 1 -gt 0
+ case $1 in
+ am__make_redirect_stdout=yes
+ shift
+ test 0 -gt 0
+ using_gmake
+ case $am__using_gmake in
+ make --version -v
+ grep GNU
GNU Make 4.2.1
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
+ am__using_gmake=yes
+ return 0
+ :
+ test x '!=' x
+ : exec make
+ set +x
+ test 0 -eq 253
+ test no = yes
+ test yes = yes
+ cat stdout
cc -DPACKAGE_NAME=\"extra-deps\" -DPACKAGE_TARNAME=\"extra-deps\" -DPACKAGE_VERSION=\"1.0\" -DPACKAGE_STRING=\"extra-deps\ 1.0\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"extra-deps\" -DVERSION=\"1.0\" -I.     -g -O2 -MT foo.o -MD -MP -MF .deps/foo.Tpo -c -o foo.o foo.c
mv -f .deps/foo.Tpo .deps/foo.Po
cc  -g -O2   -o foo foo.o  
cc -DPACKAGE_NAME=\"extra-deps\" -DPACKAGE_TARNAME=\"extra-deps\" -DPACKAGE_VERSION=\"1.0\" -DPACKAGE_STRING=\"extra-deps\ 1.0\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"extra-deps\" -DVERSION=\"1.0\" -I.     -g -O2 -MT bar.o -MD -MP -MF .deps/bar.Tpo -c -o bar.o bar.c
mv -f .deps/bar.Tpo .deps/bar.Po
cc -DPACKAGE_NAME=\"extra-deps\" -DPACKAGE_TARNAME=\"extra-deps\" -DPACKAGE_VERSION=\"1.0\" -DPACKAGE_STRING=\"extra-deps\ 1.0\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"extra-deps\" -DVERSION=\"1.0\" -I.     -g -O2 -MT libfoo.o -MD -MP -MF .deps/libfoo.Tpo -c -o libfoo.o libfoo.c
mv -f .deps/libfoo.Tpo .deps/libfoo.Po
making libfoodep
rm -f libfoo.a
ar cru libfoo.a libfoo.o 
ranlib libfoo.a
cc  -g -O2   -o bar bar.o libfoo.a 
+ test no = yes
+ case $am__make_rc_exp in
+ test 0 -ge 0
+ test 0 -le 255
+ test 0 -eq 0
+ grep 'making libfoodep' stdout
making libfoodep
+ rm -f foodep
+ make
make: *** No rule to make target 'foodep', needed by 'foo'.  Stop.
+ :
+ rm -f foodep2
+ make
make: *** No rule to make target 'foodep2', needed by 'foo'.  Stop.
+ :
+ rm -f bardep
+ make
cc  -g -O2   -o foo foo.o  
make: *** No rule to make target 'bardep', needed by 'bar'.  Stop.
+ :
+ make
cc  -g -O2   -o bar bar.o libfoo.a 
+ sleep 2
+ touch libfoo.a
+ make
cc  -g -O2   -o bar bar.o libfoo.a 
+ make bar-has-been-updated
is_newest bar libfoo.a
+ make distcheck
make  dist-gzip am__post_remove_distdir='@:'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir'
make  distdir-am
make[2]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir'
if test -d "extra-deps-1.0"; then find "extra-deps-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-deps-1.0" || { sleep 5 && rm -rf "extra-deps-1.0"; }; else :; fi
test -d "extra-deps-1.0" || mkdir "extra-deps-1.0"
test -n "" \
|| find "extra-deps-1.0" -type d ! -perm -755 \
	-exec chmod u+rwx,go+rx {} \; -o \
  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -444 -exec /bin/sh /sources/automake-1.16.1/t/extra-deps.dir/install-sh -c -m a+r {} {} \; \
|| chmod -R a+r "extra-deps-1.0"
make[2]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir'
tardir=extra-deps-1.0 && ${TAR-tar} chof - "$tardir" | eval GZIP= gzip --best -c >extra-deps-1.0.tar.gz
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir'
if test -d "extra-deps-1.0"; then find "extra-deps-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-deps-1.0" || { sleep 5 && rm -rf "extra-deps-1.0"; }; else :; fi
case 'extra-deps-1.0.tar.gz' in \
*.tar.gz*) \
  eval GZIP= gzip --best -dc extra-deps-1.0.tar.gz | ${TAR-tar} xf - ;;\
*.tar.bz2*) \
  bzip2 -dc extra-deps-1.0.tar.bz2 | ${TAR-tar} xf - ;;\
*.tar.lz*) \
  lzip -dc extra-deps-1.0.tar.lz | ${TAR-tar} xf - ;;\
*.tar.xz*) \
  xz -dc extra-deps-1.0.tar.xz | ${TAR-tar} xf - ;;\
*.tar.Z*) \
  uncompress -c extra-deps-1.0.tar.Z | ${TAR-tar} xf - ;;\
*.shar.gz*) \
  eval GZIP= gzip --best -dc extra-deps-1.0.shar.gz | unshar ;;\
*.zip*) \
  unzip extra-deps-1.0.zip ;;\
esac
chmod -R a-w extra-deps-1.0
chmod u+w extra-deps-1.0
mkdir extra-deps-1.0/_build extra-deps-1.0/_build/sub extra-deps-1.0/_inst
chmod a-w extra-deps-1.0
test -d extra-deps-1.0/_build || exit 0; \
dc_install_base=`CDPATH="${ZSH_VERSION+.}:" && cd extra-deps-1.0/_inst && pwd | sed -e 's,^[^:\\/]:[\\/],/,'` \
  && dc_destdir="${TMPDIR-/tmp}/am-dc-$$/" \
  && am__cwd=`pwd` \
  && CDPATH="${ZSH_VERSION+.}:" && cd extra-deps-1.0/_build/sub \
  && ../../configure \
     \
     \
    --srcdir=../.. --prefix="$dc_install_base" \
  && make  \
  && make  dvi \
  && make  check \
  && make  install \
  && make  installcheck \
  && make  uninstall \
  && make  distuninstallcheck_dir="$dc_install_base" \
        distuninstallcheck \
  && chmod -R a-w "$dc_install_base" \
  && ({ \
       (cd ../.. && umask 077 && mkdir "$dc_destdir") \
       && make  DESTDIR="$dc_destdir" install \
       && make  DESTDIR="$dc_destdir" uninstall \
       && make  DESTDIR="$dc_destdir" \
            distuninstallcheck_dir="$dc_destdir" distuninstallcheck; \
      } || { rm -rf "$dc_destdir"; exit 1; }) \
  && rm -rf "$dc_destdir" \
  && make  dist \
  && rm -rf extra-deps-1.0.tar.gz \
  && make  distcleancheck \
  && cd "$am__cwd" \
  || exit 1
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... cc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether cc accepts -g... yes
checking for cc option to accept ISO C89... none needed
checking whether cc understands -c and -o together... yes
checking whether make supports the include directive... yes (GNU style)
checking dependency style of cc... gcc3
checking for ar... ar
checking the archiver (ar) interface... ar
checking for ranlib... ranlib
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: executing depfiles commands
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
cc -DPACKAGE_NAME=\"extra-deps\" -DPACKAGE_TARNAME=\"extra-deps\" -DPACKAGE_VERSION=\"1.0\" -DPACKAGE_STRING=\"extra-deps\ 1.0\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"extra-deps\" -DVERSION=\"1.0\" -I. -I../..     -g -O2 -MT foo.o -MD -MP -MF .deps/foo.Tpo -c -o foo.o ../../foo.c
mv -f .deps/foo.Tpo .deps/foo.Po
cc  -g -O2   -o foo foo.o  
cc -DPACKAGE_NAME=\"extra-deps\" -DPACKAGE_TARNAME=\"extra-deps\" -DPACKAGE_VERSION=\"1.0\" -DPACKAGE_STRING=\"extra-deps\ 1.0\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"extra-deps\" -DVERSION=\"1.0\" -I. -I../..     -g -O2 -MT bar.o -MD -MP -MF .deps/bar.Tpo -c -o bar.o ../../bar.c
mv -f .deps/bar.Tpo .deps/bar.Po
cc -DPACKAGE_NAME=\"extra-deps\" -DPACKAGE_TARNAME=\"extra-deps\" -DPACKAGE_VERSION=\"1.0\" -DPACKAGE_STRING=\"extra-deps\ 1.0\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"extra-deps\" -DVERSION=\"1.0\" -I. -I../..     -g -O2 -MT libfoo.o -MD -MP -MF .deps/libfoo.Tpo -c -o libfoo.o ../../libfoo.c
mv -f .deps/libfoo.Tpo .deps/libfoo.Po
making libfoodep
rm -f libfoo.a
ar cru libfoo.a libfoo.o 
ranlib libfoo.a
cc  -g -O2   -o bar bar.o libfoo.a 
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Nothing to be done for 'dvi'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Nothing to be done for 'check'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[2]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
 /tools/bin/mkdir -p '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_inst/bin'
  /usr/bin/install -c foo bar '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_inst/bin'
make[2]: Nothing to be done for 'install-data-am'.
make[2]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Nothing to be done for 'installcheck'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
 ( cd '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_inst/bin' && rm -f foo bar )
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[2]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
 /tools/bin/mkdir -p '/tmp/am-dc-10981//sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_inst/bin'
  /usr/bin/install -c foo bar '/tmp/am-dc-10981//sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_inst/bin'
make[2]: Nothing to be done for 'install-data-am'.
make[2]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
 ( cd '/tmp/am-dc-10981//sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_inst/bin' && rm -f foo bar )
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make  dist-gzip am__post_remove_distdir='@:'
make[2]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make  distdir-am
make[3]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
if test -d "extra-deps-1.0"; then find "extra-deps-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-deps-1.0" || { sleep 5 && rm -rf "extra-deps-1.0"; }; else :; fi
test -d "extra-deps-1.0" || mkdir "extra-deps-1.0"
test -n "" \
|| find "extra-deps-1.0" -type d ! -perm -755 \
	-exec chmod u+rwx,go+rx {} \; -o \
  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -444 -exec /bin/sh /sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/install-sh -c -m a+r {} {} \; \
|| chmod -R a+r "extra-deps-1.0"
make[3]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
tardir=extra-deps-1.0 && ${TAR-tar} chof - "$tardir" | eval GZIP= gzip --best -c >extra-deps-1.0.tar.gz
make[2]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
if test -d "extra-deps-1.0"; then find "extra-deps-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-deps-1.0" || { sleep 5 && rm -rf "extra-deps-1.0"; }; else :; fi
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
test -z "foo bar" || rm -f foo bar
test -z "libfoodep" || rm -f libfoodep
test -z "libfoo.a" || rm -f libfoo.a
rm -f *.o
rm -f *.tab.c
test -z "" || rm -f 
test . = "../.." || test -z "" || rm -f 
rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
rm -f cscope.out cscope.in.out cscope.po.out cscope.files
rm -f config.status config.cache config.log configure.lineno config.status.lineno
rm -f ./.deps/bar.Po
rm -f ./.deps/foo.Po
rm -f ./.deps/libfoo.Po
rm -f Makefile
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-deps.dir/extra-deps-1.0/_build/sub'
if test -d "extra-deps-1.0"; then find "extra-deps-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-deps-1.0" || { sleep 5 && rm -rf "extra-deps-1.0"; }; else :; fi
================================================
extra-deps-1.0 archives ready for distribution: 
extra-deps-1.0.tar.gz
================================================
+ :
+ am_exit_trap 0
+ exit_status=0
+ set +e
+ cd /sources/automake-1.16.1
+ test none = tap
+ case $am_explicit_skips in
+ test 0 -eq 0
+ am_keeping_testdirs
+ case $keep_testdirs in
+ return 1
+ rm_rf_ t/extra-deps.dir
+ test 1 -gt 0
+ /usr/bin/perl /sources/automake-1.16.1/t/ax/deltree.pl t/extra-deps.dir
+ set +x
PASS t/extra-deps.sh (exit status: 0)
