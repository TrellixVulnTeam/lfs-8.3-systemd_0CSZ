extra-dist-wildcards-gnu: determine whether make is GNU make
GNU Make 4.2.1
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
Running from installcheck: no
Test Protocol: none
PATH = /sources/automake-1.16.1/bin:/sources/automake-1.16.1/t/ax:/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin
++ pwd
/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir
+ echo AC_OUTPUT
+ cat
+ aclocal-1.16 -Werror
+ automake-1.16 --foreign -Werror -Wall
+ autoconf
+ ./configure
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
+ make prereq
echo a > a.t
echo b > b.t
echo c > c.t
echo d > d.t
echo m > m.t
echo z > z.t
mkdir a.dir b.dir c.dir
echo a1 > a.dir/f1
echo a2 > a.dir/f2
echo bb > b.dir/f
echo cc > c.dir/x
echo 0 > foo
echo 1 > foo.x
echo 2 > foo.bar
echo foo > _zardoz_
+ ls -l . a.dir b.dir c.dir
.:
total 328
-rw-r--r-- 1 root root  18928 Nov 27 06:41 Makefile
-rw-r--r-- 1 root root   1272 Nov 27 06:41 Makefile.am
-rw-r--r-- 1 root root  18095 Nov 27 06:41 Makefile.in
-rw-r--r-- 1 root root      4 Nov 27 06:41 _zardoz_
drwxr-xr-x 2 root root   4096 Nov 27 06:41 a.dir
-rw-r--r-- 1 root root      2 Nov 27 06:41 a.t
-rw-r--r-- 1 root root  27316 Nov 27 06:41 aclocal.m4
drwxr-xr-x 2 root root   4096 Nov 27 06:41 autom4te.cache
drwxr-xr-x 2 root root   4096 Nov 27 06:41 b.dir
-rw-r--r-- 1 root root      2 Nov 27 06:41 b.t
drwxr-xr-x 2 root root   4096 Nov 27 06:41 c.dir
-rw-r--r-- 1 root root      2 Nov 27 06:41 c.t
-rwxr-xr-x 1 root root   7383 Nov 27 06:41 compile
-rw-r--r-- 1 root root   5204 Nov 27 06:41 config.log
-rwxr-xr-x 1 root root  25623 Nov 27 06:41 config.status
-rwxr-xr-x 1 root root 104292 Nov 27 06:41 configure
-rw-r--r-- 1 root root     98 Nov 27 06:41 configure.ac
-rw-r--r-- 1 root root      2 Nov 27 06:41 d.t
-rwxr-xr-x 1 root root  23568 Nov 27 06:41 depcomp
-rw-r--r-- 1 root root      2 Nov 27 06:41 foo
-rw-r--r-- 1 root root      2 Nov 27 06:41 foo.bar
-rw-r--r-- 1 root root      2 Nov 27 06:41 foo.x
-rwxr-xr-x 1 root root  15368 Nov 27 06:41 install-sh
-rw-r--r-- 1 root root      2 Nov 27 06:41 m.t
-rwxr-xr-x 1 root root   6878 Nov 27 06:41 missing
-rw-r--r-- 1 root root      2 Nov 27 06:41 z.t

a.dir:
total 8
-rw-r--r-- 1 root root 3 Nov 27 06:41 f1
-rw-r--r-- 1 root root 3 Nov 27 06:41 f2

b.dir:
total 4
-rw-r--r-- 1 root root 3 Nov 27 06:41 f

c.dir:
total 4
-rw-r--r-- 1 root root 3 Nov 27 06:41 x
+ make test
make  distdir-am
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir'
if test -d "extra-dist-wildcards-gnu-1.0"; then find "extra-dist-wildcards-gnu-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-dist-wildcards-gnu-1.0" || { sleep 5 && rm -rf "extra-dist-wildcards-gnu-1.0"; }; else :; fi
test -d "extra-dist-wildcards-gnu-1.0" || mkdir "extra-dist-wildcards-gnu-1.0"
test -n "" \
|| find "extra-dist-wildcards-gnu-1.0" -type d ! -perm -755 \
	-exec chmod u+rwx,go+rx {} \; -o \
  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -444 -exec /bin/sh /sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/install-sh -c -m a+r {} {} \; \
|| chmod -R a+r "extra-dist-wildcards-gnu-1.0"
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir'
ls -l extra-dist-wildcards-gnu-1.0 extra-dist-wildcards-gnu-1.0/*.dir ;: For debugging.
extra-dist-wildcards-gnu-1.0:
total 248
-rw-r--r-- 1 root root   1272 Nov 27 06:41 Makefile.am
-rw-r--r-- 1 root root  18095 Nov 27 06:41 Makefile.in
-rw-r--r-- 1 root root      4 Nov 27 06:41 _zardoz_
drwxr-xr-x 2 root root   4096 Nov 27 06:41 a.dir
-rw-r--r-- 1 root root      2 Nov 27 06:41 a.t
-rw-r--r-- 1 root root  27316 Nov 27 06:41 aclocal.m4
drwxr-xr-x 2 root root   4096 Nov 27 06:41 b.dir
-rw-r--r-- 1 root root      2 Nov 27 06:41 b.t
-rwxr-xr-x 1 root root   7383 Nov 27 06:41 compile
-rwxr-xr-x 1 root root 104292 Nov 27 06:41 configure
-rw-r--r-- 1 root root     98 Nov 27 06:41 configure.ac
-rw-r--r-- 1 root root      2 Nov 27 06:41 d.t
-rwxr-xr-x 1 root root  23568 Nov 27 06:41 depcomp
-rw-r--r-- 1 root root      2 Nov 27 06:41 foo.bar
-rw-r--r-- 1 root root      2 Nov 27 06:41 foo.x
-rwxr-xr-x 1 root root  15368 Nov 27 06:41 install-sh
-rwxr-xr-x 1 root root   6878 Nov 27 06:41 missing

extra-dist-wildcards-gnu-1.0/a.dir:
total 8
-rw-r--r-- 1 root root 3 Nov 27 06:41 f1
-rw-r--r-- 1 root root 3 Nov 27 06:41 f2

extra-dist-wildcards-gnu-1.0/b.dir:
total 4
-rw-r--r-- 1 root root 3 Nov 27 06:41 f
diff a.t extra-dist-wildcards-gnu-1.0/a.t
diff b.t extra-dist-wildcards-gnu-1.0/b.t
test ! -r extra-dist-wildcards-gnu-1.0/c.t
diff d.t extra-dist-wildcards-gnu-1.0/d.t
test ! -r extra-dist-wildcards-gnu-1.0/m.t
test ! -r extra-dist-wildcards-gnu-1.0/z.t
diff a.dir/f1 extra-dist-wildcards-gnu-1.0/a.dir/f1
diff a.dir/f2 extra-dist-wildcards-gnu-1.0/a.dir/f2
diff b.dir/f extra-dist-wildcards-gnu-1.0/b.dir/f
test ! -r extra-dist-wildcards-gnu-1.0/c.dir
diff foo.x extra-dist-wildcards-gnu-1.0/foo.x
diff foo.bar extra-dist-wildcards-gnu-1.0/foo.bar
test ! -r extra-dist-wildcards-gnu-1.0/foo
diff _zardoz_ extra-dist-wildcards-gnu-1.0/_zardoz_
+ make distcheck
make  dist-gzip am__post_remove_distdir='@:'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir'
make  distdir-am
make[2]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir'
if test -d "extra-dist-wildcards-gnu-1.0"; then find "extra-dist-wildcards-gnu-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-dist-wildcards-gnu-1.0" || { sleep 5 && rm -rf "extra-dist-wildcards-gnu-1.0"; }; else :; fi
test -d "extra-dist-wildcards-gnu-1.0" || mkdir "extra-dist-wildcards-gnu-1.0"
test -n "" \
|| find "extra-dist-wildcards-gnu-1.0" -type d ! -perm -755 \
	-exec chmod u+rwx,go+rx {} \; -o \
  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -444 -exec /bin/sh /sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/install-sh -c -m a+r {} {} \; \
|| chmod -R a+r "extra-dist-wildcards-gnu-1.0"
make[2]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir'
tardir=extra-dist-wildcards-gnu-1.0 && ${TAR-tar} chof - "$tardir" | eval GZIP= gzip --best -c >extra-dist-wildcards-gnu-1.0.tar.gz
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir'
if test -d "extra-dist-wildcards-gnu-1.0"; then find "extra-dist-wildcards-gnu-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-dist-wildcards-gnu-1.0" || { sleep 5 && rm -rf "extra-dist-wildcards-gnu-1.0"; }; else :; fi
case 'extra-dist-wildcards-gnu-1.0.tar.gz' in \
*.tar.gz*) \
  eval GZIP= gzip --best -dc extra-dist-wildcards-gnu-1.0.tar.gz | ${TAR-tar} xf - ;;\
*.tar.bz2*) \
  bzip2 -dc extra-dist-wildcards-gnu-1.0.tar.bz2 | ${TAR-tar} xf - ;;\
*.tar.lz*) \
  lzip -dc extra-dist-wildcards-gnu-1.0.tar.lz | ${TAR-tar} xf - ;;\
*.tar.xz*) \
  xz -dc extra-dist-wildcards-gnu-1.0.tar.xz | ${TAR-tar} xf - ;;\
*.tar.Z*) \
  uncompress -c extra-dist-wildcards-gnu-1.0.tar.Z | ${TAR-tar} xf - ;;\
*.shar.gz*) \
  eval GZIP= gzip --best -dc extra-dist-wildcards-gnu-1.0.shar.gz | unshar ;;\
*.zip*) \
  unzip extra-dist-wildcards-gnu-1.0.zip ;;\
esac
chmod -R a-w extra-dist-wildcards-gnu-1.0
chmod u+w extra-dist-wildcards-gnu-1.0
mkdir extra-dist-wildcards-gnu-1.0/_build extra-dist-wildcards-gnu-1.0/_build/sub extra-dist-wildcards-gnu-1.0/_inst
chmod a-w extra-dist-wildcards-gnu-1.0
test -d extra-dist-wildcards-gnu-1.0/_build || exit 0; \
dc_install_base=`CDPATH="${ZSH_VERSION+.}:" && cd extra-dist-wildcards-gnu-1.0/_inst && pwd | sed -e 's,^[^:\\/]:[\\/],/,'` \
  && dc_destdir="${TMPDIR-/tmp}/am-dc-$$/" \
  && am__cwd=`pwd` \
  && CDPATH="${ZSH_VERSION+.}:" && cd extra-dist-wildcards-gnu-1.0/_build/sub \
  && ../../configure \
     \
     \
    --srcdir=../.. --prefix="$dc_install_base" \
  && make  \
  && make  dvi \
  && make  check \
  && make  install \
  && make  installcheck \
  && make  uninstall \
  && make  distuninstallcheck_dir="$dc_install_base" \
        distuninstallcheck \
  && chmod -R a-w "$dc_install_base" \
  && ({ \
       (cd ../.. && umask 077 && mkdir "$dc_destdir") \
       && make  DESTDIR="$dc_destdir" install \
       && make  DESTDIR="$dc_destdir" uninstall \
       && make  DESTDIR="$dc_destdir" \
            distuninstallcheck_dir="$dc_destdir" distuninstallcheck; \
      } || { rm -rf "$dc_destdir"; exit 1; }) \
  && rm -rf "$dc_destdir" \
  && make  dist \
  && rm -rf extra-dist-wildcards-gnu-1.0.tar.gz \
  && make  distcleancheck \
  && cd "$am__cwd" \
  || exit 1
checking for a BSD-compatible install... /usr/bin/install -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
checking for gawk... gawk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Nothing to be done for 'all'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Nothing to be done for 'dvi'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make  check-local
make[2]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
ls -l . *.dir ;: For debugging.
ls: cannot access '*.dir': No such file or directory
.:
total 56
-rw-r--r-- 1 root root 19375 Nov 27 06:41 Makefile
-rw-r--r-- 1 root root  5588 Nov 27 06:41 config.log
-rwxr-xr-x 1 root root 26007 Nov 27 06:41 config.status
test -f ../../a.t
test -f ../../b.t
test ! -r ../../c.t
test -f ../../d.t
test ! -r ../../m.t
test ! -r ../../z.t
test -f ../../a.dir/f1
test -f ../../a.dir/f2
test -f ../../b.dir/f
test ! -r ../../c.dir
test -f ../../foo.x
test -f ../../foo.bar
test ! -r ../../foo
test -f ../../_zardoz_
make[2]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[2]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[2]: Nothing to be done for 'install-exec-am'.
make[2]: Nothing to be done for 'install-data-am'.
make[2]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Nothing to be done for 'installcheck'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Nothing to be done for 'uninstall'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[2]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[2]: Nothing to be done for 'install-exec-am'.
make[2]: Nothing to be done for 'install-data-am'.
make[2]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Nothing to be done for 'uninstall'.
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make  dist-gzip am__post_remove_distdir='@:'
make[2]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make  distdir-am
make[3]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
if test -d "extra-dist-wildcards-gnu-1.0"; then find "extra-dist-wildcards-gnu-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-dist-wildcards-gnu-1.0" || { sleep 5 && rm -rf "extra-dist-wildcards-gnu-1.0"; }; else :; fi
test -d "extra-dist-wildcards-gnu-1.0" || mkdir "extra-dist-wildcards-gnu-1.0"
test -n "" \
|| find "extra-dist-wildcards-gnu-1.0" -type d ! -perm -755 \
	-exec chmod u+rwx,go+rx {} \; -o \
  ! -type d ! -perm -444 -links 1 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -400 -exec chmod a+r {} \; -o \
  ! -type d ! -perm -444 -exec /bin/sh /sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/install-sh -c -m a+r {} {} \; \
|| chmod -R a+r "extra-dist-wildcards-gnu-1.0"
make[3]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
tardir=extra-dist-wildcards-gnu-1.0 && ${TAR-tar} chof - "$tardir" | eval GZIP= gzip --best -c >extra-dist-wildcards-gnu-1.0.tar.gz
make[2]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
if test -d "extra-dist-wildcards-gnu-1.0"; then find "extra-dist-wildcards-gnu-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-dist-wildcards-gnu-1.0" || { sleep 5 && rm -rf "extra-dist-wildcards-gnu-1.0"; }; else :; fi
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
make[1]: Entering directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
test -z "" || rm -f 
test . = "../.." || test -z "" || rm -f 
rm -f config.status config.cache config.log configure.lineno config.status.lineno
rm -f Makefile
make[1]: Leaving directory '/sources/automake-1.16.1/t/extra-dist-wildcards-gnu.dir/extra-dist-wildcards-gnu-1.0/_build/sub'
if test -d "extra-dist-wildcards-gnu-1.0"; then find "extra-dist-wildcards-gnu-1.0" -type d ! -perm -200 -exec chmod u+w {} ';' && rm -rf "extra-dist-wildcards-gnu-1.0" || { sleep 5 && rm -rf "extra-dist-wildcards-gnu-1.0"; }; else :; fi
==============================================================
extra-dist-wildcards-gnu-1.0 archives ready for distribution: 
extra-dist-wildcards-gnu-1.0.tar.gz
==============================================================
+ :
+ am_exit_trap 0
+ exit_status=0
+ set +e
+ cd /sources/automake-1.16.1
+ test none = tap
+ case $am_explicit_skips in
+ test 0 -eq 0
+ am_keeping_testdirs
+ case $keep_testdirs in
+ return 1
+ rm_rf_ t/extra-dist-wildcards-gnu.dir
+ test 1 -gt 0
+ /usr/bin/perl /sources/automake-1.16.1/t/ax/deltree.pl t/extra-dist-wildcards-gnu.dir
+ set +x
PASS t/extra-dist-wildcards-gnu.sh (exit status: 0)
