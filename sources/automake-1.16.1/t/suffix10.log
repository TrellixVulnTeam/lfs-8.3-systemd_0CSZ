suffix10: running libtoolize --version
libtoolize (GNU libtool) 2.4.6
Written by Gary V. Vaughan <gary@gnu.org>, 2003

Copyright (C) 2015 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
Running from installcheck: no
Test Protocol: tap
PATH = /sources/automake-1.16.1/bin:/sources/automake-1.16.1/t/ax:/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin
++ pwd
/sources/automake-1.16.1/t/suffix10.dir
+ plan_ 7
+ test 1 -eq 0
+ test 1 -ge 2
+ test xnone '!=' xnone
+ test x7 = xunknown
+ test x7 = xlater
+ test x7 = xlazy
+ test x7 = xnow
+ test 7 -ge 0
+ planned_=7
+ echo 1..7
1..7
+ cat
+ cat
+ cat
+ command_ok_ libtoolize libtoolize --force
+ tap_directive_=
+ tap_reason_=
+ test 3 -gt 0
+ tap_description_=libtoolize
+ shift
+ test 2 -gt 0
+ case $1 in
+ break
+ tap_result_=ok
+ libtoolize --force
libtoolize: putting auxiliary files in '.'.
libtoolize: linking file './ltmain.sh'
libtoolize: You should add the contents of the following files to 'aclocal.m4':
libtoolize:   '/usr/share/aclocal/libtool.m4'
libtoolize:   '/usr/share/aclocal/ltoptions.m4'
libtoolize:   '/usr/share/aclocal/ltsugar.m4'
libtoolize:   '/usr/share/aclocal/ltversion.m4'
libtoolize:   '/usr/share/aclocal/lt~obsolete.m4'
libtoolize: Consider adding 'AC_CONFIG_MACRO_DIRS([m4])' to configure.ac,
libtoolize: and rerunning libtoolize and aclocal.
libtoolize: Consider adding '-I m4' to ACLOCAL_AMFLAGS in Makefile.am.
+ result_ ok -D '' -r '' -- libtoolize
+ set +x
ok 1 - libtoolize
PASS: t/suffix10.tap 1 - libtoolize
+ command_ok_ aclocal aclocal-1.16 -Werror
+ tap_directive_=
+ tap_reason_=
+ test 3 -gt 0
+ tap_description_=aclocal
+ shift
+ test 2 -gt 0
+ case $1 in
+ break
+ tap_result_=ok
+ aclocal-1.16 -Werror
+ result_ ok -D '' -r '' -- aclocal
+ set +x
ok 2 - aclocal
PASS: t/suffix10.tap 2 - aclocal
+ command_ok_ autoconf autoconf
+ tap_directive_=
+ tap_reason_=
+ test 2 -gt 0
+ tap_description_=autoconf
+ shift
+ test 1 -gt 0
+ case $1 in
+ break
+ tap_result_=ok
+ autoconf
+ result_ ok -D '' -r '' -- autoconf
+ set +x
ok 3 - autoconf
PASS: t/suffix10.tap 3 - autoconf
+ command_ok_ automake automake-1.16 --foreign -Werror -Wall --add-missing
+ tap_directive_=
+ tap_reason_=
+ test 6 -gt 0
+ tap_description_=automake
+ shift
+ test 5 -gt 0
+ case $1 in
+ break
+ tap_result_=ok
+ automake-1.16 --foreign -Werror -Wall --add-missing
configure.ac:6: installing './ar-lib'
configure.ac:4: installing './compile'
configure.ac:7: installing './config.guess'
configure.ac:7: installing './config.sub'
configure.ac:2: installing './missing'
Makefile.am: installing './depcomp'
configure.ac: installing './ylwrap'
+ result_ ok -D '' -r '' -- automake
+ set +x
ok 4 - automake
PASS: t/suffix10.tap 4 - automake
+ command_ok_ configure run_configure
+ tap_directive_=
+ tap_reason_=
+ test 2 -gt 0
+ tap_description_=configure
+ shift
+ test 1 -gt 0
+ case $1 in
+ break
+ tap_result_=ok
+ run_configure
+ st=0
+ ./configure
+ sed 's/^/  /' output
  checking for a BSD-compatible install... /usr/bin/install -c
  checking whether build environment is sane... yes
  checking for a thread-safe mkdir -p... /tools/bin/mkdir -p
  checking for gawk... gawk
  checking whether make sets $(MAKE)... yes
  checking whether make supports nested variables... yes
  checking for gcc... cc
  checking whether the C compiler works... yes
  checking for C compiler default output file name... a.out
  checking for suffix of executables... 
  checking whether we are cross compiling... no
  checking for suffix of object files... o
  checking whether we are using the GNU C compiler... yes
  checking whether cc accepts -g... yes
  checking for cc option to accept ISO C89... none needed
  checking whether cc understands -c and -o together... yes
  checking whether make supports the include directive... yes (GNU style)
  checking dependency style of cc... gcc3
  checking for bison... yacc
  checking for ar... ar
  checking the archiver (ar) interface... ar
  checking build system type... x86_64-pc-linux-gnu
  checking host system type... x86_64-pc-linux-gnu
  checking how to print strings... printf
  checking for a sed that does not truncate output... /bin/sed
  checking for grep that handles long lines and -e... /bin/grep
  checking for egrep... /bin/grep -E
  checking for fgrep... /bin/grep -F
  checking for ld used by cc... /usr/bin/ld
  checking if the linker (/usr/bin/ld) is GNU ld... yes
  checking for BSD- or MS-compatible name lister (nm)... /usr/bin/nm -B
  checking the name lister (/usr/bin/nm -B) interface... BSD nm
  checking whether ln -s works... yes
  checking the maximum length of command line arguments... 6291456
  checking how to convert x86_64-pc-linux-gnu file names to x86_64-pc-linux-gnu format... func_convert_file_noop
  checking how to convert x86_64-pc-linux-gnu file names to toolchain format... func_convert_file_noop
  checking for /usr/bin/ld option to reload object files... -r
  checking for objdump... objdump
  checking how to recognize dependent libraries... pass_all
  checking for dlltool... no
  checking how to associate runtime and link libraries... printf %s\n
  checking for archiver @FILE support... @
  checking for strip... strip
  checking for ranlib... ranlib
  checking command to parse /usr/bin/nm -B output from cc object... ok
  checking for sysroot... no
  checking for a working dd... /bin/dd
  checking how to truncate binary pipes... /bin/dd bs=4096 count=1
  checking for mt... no
  checking if : is a manifest tool... no
  checking how to run the C preprocessor... cc -E
  checking for ANSI C header files... yes
  checking for sys/types.h... yes
  checking for sys/stat.h... yes
  checking for stdlib.h... yes
  checking for string.h... yes
  checking for memory.h... yes
  checking for strings.h... yes
  checking for inttypes.h... yes
  checking for stdint.h... yes
  checking for unistd.h... yes
  checking for dlfcn.h... yes
  checking for objdir... .libs
  checking if cc supports -fno-rtti -fno-exceptions... no
  checking for cc option to produce PIC... -fPIC -DPIC
  checking if cc PIC flag -fPIC -DPIC works... yes
  checking if cc static flag -static works... yes
  checking if cc supports -c -o file.o... yes
  checking if cc supports -c -o file.o... (cached) yes
  checking whether the cc linker (/usr/bin/ld -m elf_x86_64) supports shared libraries... yes
  checking whether -lc should be explicitly linked in... no
  checking dynamic linker characteristics... GNU/Linux ld.so
  checking how to hardcode library paths into programs... immediate
  checking whether stripping libraries is possible... yes
  checking if libtool supports shared libraries... yes
  checking whether to build shared libraries... yes
  checking whether to build static libraries... yes
  checking that generated files are newer than configure... done
  configure: creating ./config.status
  config.status: creating Makefile
  config.status: executing depfiles commands
  config.status: executing libtool commands
+ test 0 -eq 0
+ result_ ok -D '' -r '' -- configure
+ set +x
ok 5 - configure
PASS: t/suffix10.tap 5 - configure
+ command_ok_ 'make test' make test
+ tap_directive_=
+ tap_reason_=
+ test 3 -gt 0
+ tap_description_='make test'
+ shift
+ test 2 -gt 0
+ case $1 in
+ break
+ tap_result_=ok
+ make test
echo foo.lo | grep '^foo\.lo$'
foo.lo
+ result_ ok -D '' -r '' -- 'make test'
+ set +x
ok 6 - make test
PASS: t/suffix10.tap 6 - make test
+ directive=
+ make_can_chain_suffix_rules
+ test -z ''
+ using_gmake
+ case $am__using_gmake in
+ make --version -v
+ grep GNU
GNU Make 4.2.1
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
+ am__using_gmake=yes
+ return 0
+ am__can_chain_suffix_rules=yes
+ return 0
+ command_ok_ 'make all' -D '' -r 'suffix rules not chained' make all
+ tap_directive_=
+ tap_reason_=
+ test 7 -gt 0
+ tap_description_='make all'
+ shift
+ test 6 -gt 0
+ case $1 in
+ tap_directive_=
+ shift
+ shift
+ test 4 -gt 0
+ case $1 in
+ tap_reason_='suffix rules not chained'
+ shift
+ shift
+ test 2 -gt 0
+ case $1 in
+ break
+ tap_result_=ok
+ make all
rm -f foo.y foo.y-t
:; { echo '/* autogenerated */' \
  && echo '%{' \
  && echo 'int yylex () {return 0;}' \
  && echo 'void yyerror (char *s) {}' \
  && echo '%}' \
  && echo '%%' \
  && echo "foobar : 'f' 'o' 'o' 'b' 'a' 'r' {};" \
  && echo '%%' \
  && cat `test -f 'foo.x_' || echo ./`foo.x_; \
} > foo.y-t
mv -f foo.y-t foo.y
/bin/sh ./ylwrap foo.y y.tab.c foo.c y.tab.h `echo foo.c | sed -e s/cc$/hh/ -e s/cpp$/hpp/ -e s/cxx$/hxx/ -e s/c++$/h++/ -e s/c$/h/` y.output foo.output -- yacc  
/bin/sh ./libtool  --tag=CC   --mode=compile cc -DPACKAGE_NAME=\"suffix10\" -DPACKAGE_TARNAME=\"suffix10\" -DPACKAGE_VERSION=\"1.0\" -DPACKAGE_STRING=\"suffix10\ 1.0\" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"suffix10\" -DVERSION=\"1.0\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\".libs/\" -I.     -g -O2 -MT foo.lo -MD -MP -MF .deps/foo.Tpo -c -o foo.lo foo.c
libtool: compile:  cc -DPACKAGE_NAME=\"suffix10\" -DPACKAGE_TARNAME=\"suffix10\" -DPACKAGE_VERSION=\"1.0\" "-DPACKAGE_STRING=\"suffix10 1.0\"" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"suffix10\" -DVERSION=\"1.0\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\".libs/\" -I. -g -O2 -MT foo.lo -MD -MP -MF .deps/foo.Tpo -c foo.c  -fPIC -DPIC -o .libs/foo.o
libtool: compile:  cc -DPACKAGE_NAME=\"suffix10\" -DPACKAGE_TARNAME=\"suffix10\" -DPACKAGE_VERSION=\"1.0\" "-DPACKAGE_STRING=\"suffix10 1.0\"" -DPACKAGE_BUGREPORT=\"\" -DPACKAGE_URL=\"\" -DPACKAGE=\"suffix10\" -DVERSION=\"1.0\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\".libs/\" -I. -g -O2 -MT foo.lo -MD -MP -MF .deps/foo.Tpo -c foo.c -o foo.o >/dev/null 2>&1
mv -f .deps/foo.Tpo .deps/foo.Plo
/bin/sh ./libtool  --tag=CC   --mode=link cc  -g -O2   -o libfoo.la -rpath /usr/local/lib foo.lo  
libtool: link: cc -shared  -fPIC -DPIC  .libs/foo.o    -g -O2   -Wl,-soname -Wl,libfoo.so.0 -o .libs/libfoo.so.0.0.0
libtool: link: (cd ".libs" && rm -f "libfoo.so.0" && ln -s "libfoo.so.0.0.0" "libfoo.so.0")
libtool: link: (cd ".libs" && rm -f "libfoo.so" && ln -s "libfoo.so.0.0.0" "libfoo.so")
libtool: link: ar cru .libs/libfoo.a  foo.o
libtool: link: ranlib .libs/libfoo.a
libtool: link: ( cd ".libs" && rm -f "libfoo.la" && ln -s "../libfoo.la" "libfoo.la" )
rm foo.y
+ result_ ok -D '' -r 'suffix rules not chained' -- 'make all'
+ set +x
ok 7 - make all
PASS: t/suffix10.tap 7 - make all
+ :
+ am_exit_trap 0
+ exit_status=0
+ set +e
+ cd /sources/automake-1.16.1
+ test tap = tap
+ test 7 = later
+ test 0 -eq 0
+ test 7 -eq 7
+ am_keeping_testdirs
+ case $keep_testdirs in
+ return 1
+ rm_rf_ t/suffix10.dir
+ test 1 -gt 0
+ /usr/bin/perl /sources/automake-1.16.1/t/ax/deltree.pl t/suffix10.dir
+ set +x
