++ initial_cwd_=/sources/grep-3.1/tests
+++ testdir_prefix_
+++ printf gt
++ pfx_=gt
+++ mktempd_ /sources/grep-3.1/tests gt-fedora.XXXX
+++ case $# in
+++ destdir_=/sources/grep-3.1/tests
+++ template_=gt-fedora.XXXX
+++ MAX_TRIES_=4
+++ case $destdir_ in
+++ destdir_slash_=/sources/grep-3.1/tests/
+++ case $template_ in
++++ unset TMPDIR
+++ d=/sources/grep-3.1/tests/gt-fedora.1kwe
+++ case $d in
+++ :
+++ test -d /sources/grep-3.1/tests/gt-fedora.1kwe
++++ ls -dgo /sources/grep-3.1/tests/gt-fedora.1kwe
+++ perms='drwx------ 2 4096 Nov 27 05:56 /sources/grep-3.1/tests/gt-fedora.1kwe'
+++ case $perms in
+++ :
+++ echo /sources/grep-3.1/tests/gt-fedora.1kwe
+++ return
++ test_dir_=/sources/grep-3.1/tests/gt-fedora.1kwe
++ cd /sources/grep-3.1/tests/gt-fedora.1kwe
++ gl_init_sh_nl_='
'
++ IFS=' 	
'
++ for sig_ in 1 2 3 13 15
+++ expr 1 + 128
++ eval 'trap '\''Exit 129'\'' 1'
+++ trap 'Exit 129' 1
++ for sig_ in 1 2 3 13 15
+++ expr 2 + 128
++ eval 'trap '\''Exit 130'\'' 2'
+++ trap 'Exit 130' 2
++ for sig_ in 1 2 3 13 15
+++ expr 3 + 128
++ eval 'trap '\''Exit 131'\'' 3'
+++ trap 'Exit 131' 3
++ for sig_ in 1 2 3 13 15
+++ expr 13 + 128
++ eval 'trap '\''Exit 141'\'' 13'
+++ trap 'Exit 141' 13
++ for sig_ in 1 2 3 13 15
+++ expr 15 + 128
++ eval 'trap '\''Exit 143'\'' 15'
+++ trap 'Exit 143' 15
++ trap remove_tmp_ 0
+ path_prepend_ ../src
+ test 1 '!=' 0
+ path_dir_=../src
+ case $path_dir_ in
+ abs_path_dir_=/sources/grep-3.1/tests/../src
+ case $abs_path_dir_ in
+ PATH=/sources/grep-3.1/tests/../src:/sources/grep-3.1/src:./src:/bin:/usr/bin:/sbin:/usr/sbin:/tools/bin
+ create_exe_shims_ /sources/grep-3.1/tests/../src
+ case $EXEEXT in
+ return 0
+ shift
+ test 0 '!=' 0
+ export PATH
+ '[' -t 1 ']'
+ U='https://bugzilla.redhat.com/show_bug.cgi?id=116909'
+ printf 'fgrep false negatives: '
fgrep false negatives: + cat
+ cat
+ cat
+ grep -F -w -f 116909.list 116909.in
+ compare 116909.out actual
+ compare_dev_null_ 116909.out actual
+ test 2 = 2
+ test x116909.out = x/dev/null
+ test xactual = x/dev/null
+ return 2
+ case $? in
+ compare_ 116909.out actual
+ diff -u 116909.out actual
+ ok
+ printf OK
OK+ U='https://bugzilla.redhat.com/show_bug.cgi?id=123362'
+ printf 'bad handling of brackets in UTF-8: '
bad handling of brackets in UTF-8: + echo Y
+ echo Y
+ LC_ALL=de_DE.UTF-8
+ grep -i '[y,Y]'
+ compare 123362.out actual
+ compare_dev_null_ 123362.out actual
+ test 2 = 2
+ test x123362.out = x/dev/null
+ test xactual = x/dev/null
+ return 2
+ case $? in
+ compare_ 123362.out actual
+ diff -u 123362.out actual
+ ok
+ printf OK
OK+ U='https://bugzilla.redhat.com/show_bug.cgi?id=112869'
+ printf 'crash with \\W: '
crash with \W: + echo '<form>'
+ LANG=it_IT
+ grep -iE '\Wform\W' 112869.out
+ compare 112869.out actual
+ compare_dev_null_ 112869.out actual
+ test 2 = 2
+ test x112869.out = x/dev/null
+ test xactual = x/dev/null
+ return 2
+ case $? in
+ compare_ 112869.out actual
+ diff -u 112869.out actual
+ ok
+ printf OK
OK+ U='https://bugzilla.redhat.com/show_bug.cgi?id=189580'
+ printf 'grep -D skip opening a special file: '
grep -D skip opening a special file: + returns_ 124 timeout 10 grep -D skip foo /dev/zero
+ ok
+ printf OK
OK+ U='https://bugzilla.redhat.com/show_bug.cgi?id=169524'
+ printf 'grep -Fw looping infinitely: '
grep -Fw looping infinitely: + echo foobar
+ returns_ 124 timeout 10 grep -Fw ''
+ ok
+ printf OK
OK+ U='https://bugzilla.redhat.com/show_bug.cgi?id=140781'
+ printf 'fgrep hangs on binary files: '
fgrep hangs on binary files: + returns_ 124 timeout 10 grep -F grep /sources/grep-3.1/src/grep
+ ok
+ printf OK
OK+ U='https://bugzilla.redhat.com/show_bug.cgi?id=161700'
+ printf 'grep -Fw fails to match anything: '
grep -Fw fails to match anything: + echo test
+ grep -Fw test 161700.out
+ compare 161700.out actual
+ compare_dev_null_ 161700.out actual
+ test 2 = 2
+ test x161700.out = x/dev/null
+ test xactual = x/dev/null
+ return 2
+ case $? in
+ compare_ 161700.out actual
+ diff -u 161700.out actual
+ ok
+ printf OK
OK+ U='https://bugzilla.redhat.com/show_bug.cgi?id=179698'
+ printf 'grep -w broken in non-utf8 multibyte locales: '
grep -w broken in non-utf8 multibyte locales: + echo za a
+ LANG=ja_JP.eucjp
+ grep -w a 179698.out
+ compare 179698.out actual
+ compare_dev_null_ 179698.out actual
+ test 2 = 2
+ test x179698.out = x/dev/null
+ test xactual = x/dev/null
+ return 2
+ case $? in
+ compare_ 179698.out actual
+ diff -u 179698.out actual
+ ok
+ printf OK
OK+ echo a
+ grep -P a
grep: support for the -P option is not compiled into this --disable-perl-regexp binary
+ Exit
+ set +e
+ exit
+ exit
+ remove_tmp_
+ __st=0
+ cleanup_
+ :
+ test '' = yes
+ cd /sources/grep-3.1/tests
+ chmod -R u+rwx /sources/grep-3.1/tests/gt-fedora.1kwe
+ rm -rf /sources/grep-3.1/tests/gt-fedora.1kwe
+ exit 0
PASS fedora (exit status: 0)
