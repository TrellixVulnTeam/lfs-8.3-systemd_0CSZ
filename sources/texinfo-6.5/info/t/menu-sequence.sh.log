++ srcdir=.
++ GINFO='./ginfo --init-file ./t/Infokey-config'
++ GINFO_NAME=ginfo
++ infodir=./t/infodir
++ export infodir
++ INFOPATH=./t/infodir
++ export INFOPATH
++ t=./t
++ export t
+++ basename ./t/menu-sequence.sh.out
++ GINFO_OUTPUT=t/menu-sequence.sh.out
+++ basename ./t/menu-sequence.sh.pipein
++ PIPEIN=t/menu-sequence.sh.pipein
+++ basename ./t/menu-sequence.sh.pipeout
++ PTY_TYPE=t/menu-sequence.sh.pipeout
++ rm -f t/menu-sequence.sh.out
++ INFO_PRINT_COMMAND='>t/menu-sequence.sh.out'
++ export INFO_PRINT_COMMAND
++ PTY_PID=0
++ LC_ALL=C
++ export LC_ALL
++ TERM=dumb
++ export TERM
++ STTY=true
++ reset_required=no
++ trap cleanup 2
+ . ./t/Init-inter.inc
++ test -x pseudotty
++ path_sep=:
++ TERM=vt100
++ export TERM
++ findprog stty
++ saveIFS=' 	
'
++ IFS=:
++ for dir in $PATH
++ IFS=' 	
'
++ test -f /bin/stty
++ test -x /bin/stty
++ return 0
++ STTY=stty
++ reset_required=yes
++ test yes=yes
++ stty
++ grep '[-]echo'
++ rm -f t/menu-sequence.sh.pipein t/menu-sequence.sh.pipeout
++ findprog mkfifo
++ saveIFS=' 	
'
++ IFS=:
++ for dir in $PATH
++ IFS=' 	
'
++ test -f /bin/mkfifo
++ test -f /bin/mkfifo.exe
++ for dir in $PATH
++ IFS=' 	
'
++ test -f /usr/bin/mkfifo
++ test -x /usr/bin/mkfifo
++ return 0
++ mkfifo t/menu-sequence.sh.pipein
++ mkfifo t/menu-sequence.sh.pipeout
++ test '!' -r t/menu-sequence.sh.pipein
++ test '!' -r t/menu-sequence.sh.pipeout
++ PTY_PID=1231
++ read PTS_DEVICE
++ exec ./pseudotty t/menu-sequence.sh.pipeout
./pseudotty: getting pty master fd
./pseudotty: unlocking slave device
./pseudotty: getting file name of slave device...
./pseudotty: /dev/pts/0
./pseudotty: opening slave device
./pseudotty: attempting to set window size
./pseudotty: ...succeeded
./pseudotty: opening control channel
++ exec
./pseudotty: entering main loop
++ LIBC_FATAL_STDERR_=1
++ export LIBC_FATAL_STDERR
+ run_ginfo -f intera
+ GINFO_PID=1232
+ printf '\033xmenu-sequence\rfile-menu,first,no,nod\rDq'
+ timeout_test
+ wait 1232
./pseudotty: trying to read
./pseudotty: read byte 0x1B
./pseudotty: trying to read
./pseudotty: read byte 0x78
./pseudotty: trying to read
./pseudotty: read byte 0x6D
./pseudotty: trying to read
./pseudotty: read byte 0x65
./pseudotty: trying to read
./pseudotty: read byte 0x6E
./pseudotty: trying to read
./pseudotty: read byte 0x75
./pseudotty: trying to read
./pseudotty: read byte 0x2D
./pseudotty: trying to read
./pseudotty: read byte 0x73
./pseudotty: trying to read
./pseudotty: read byte 0x65
./pseudotty: trying to read
./pseudotty: read byte 0x71
./pseudotty: trying to read
./pseudotty: read byte 0x75
./pseudotty: trying to read
./pseudotty: read byte 0x65
./pseudotty: trying to read
./pseudotty: read byte 0x6E
./pseudotty: trying to read
./pseudotty: read byte 0x63
./pseudotty: trying to read
./pseudotty: read byte 0x65
./pseudotty: trying to read
./pseudotty: read byte 0x0D
./pseudotty: trying to read
./pseudotty: read byte 0x66
+ sh -c '
    exec 7>&- ; # Close fd from parent shell

    (sleep 3 ; kill $$) &
./pseudotty: trying to read
./pseudotty: read byte 0x69
    exec ./ginfo --init-file ./t/Infokey-config  -f intera 0<>/dev/pts/0 1<&0 ;'
./pseudotty: trying to read
./pseudotty: read byte 0x6C
./pseudotty: trying to read
./pseudotty: read byte 0x65
./pseudotty: trying to read
./pseudotty: read byte 0x2D
./pseudotty: trying to read
./pseudotty: read byte 0x6D
./pseudotty: trying to read
./pseudotty: read byte 0x65
./pseudotty: trying to read
./pseudotty: read byte 0x6E
./pseudotty: trying to read
./pseudotty: read byte 0x75
./pseudotty: trying to read
./pseudotty: read byte 0x2C
./pseudotty: trying to read
./pseudotty: read byte 0x66
./pseudotty: trying to read
./pseudotty: read byte 0x69
./pseudotty: trying to read
./pseudotty: read byte 0x72
./pseudotty: trying to read
./pseudotty: read byte 0x73
./pseudotty: trying to read
./pseudotty: read byte 0x74
./pseudotty: trying to read
./pseudotty: read byte 0x2C
./pseudotty: trying to read
./pseudotty: read byte 0x6E
./pseudotty: trying to read
./pseudotty: read byte 0x6F
./pseudotty: trying to read
./pseudotty: read byte 0x2C
./pseudotty: trying to read
./pseudotty: read byte 0x6E
./pseudotty: trying to read
./pseudotty: read byte 0x6F
./pseudotty: trying to read
./pseudotty: read byte 0x64
./pseudotty: trying to read
./pseudotty: read byte 0x0D
./pseudotty: trying to read
./pseudotty: read byte 0x44
./pseudotty: trying to read
./pseudotty: read byte 0x71
info: "./t/Infokey-config", line 2: unknown action `xxx-not-recognized'
info: "./t/Infokey-config", line 3: cannot bind key sequence to menu-digit
+ status=0
+ RETVAL=0
+ test 0 '!=' 0
+ GINFO_PID=0
+ test '!' -f t/menu-sequence.sh.out
+ grep 'Arrived at Node 3.' t/menu-sequence.sh.out
Arrived at Node 3.
+ RETVAL=0
+ cleanup
+ test 1231 -ne 0
+ kill 1231
+ rm -f t/menu-sequence.sh.out
./t/Init-test.inc: line 70:  1231 Terminated              ( exec ./pseudotty "$PTY_TYPE" > $PIPEIN )
+ rm -f t/menu-sequence.sh.pipein t/menu-sequence.sh.pipeout
+ test yes = yes
+ stty
+ grep '[-]echo'
+ exit 0
sh: line 3: kill: (1232) - No such process
